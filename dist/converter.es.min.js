/*!*******************************************
* css-to-xpath-converter 1.0.0
* https://github.com/angezid/css-to-xpath-converter
* MIT licensed
* Copyright (c) 2024â€“2025, angezid
*********************************************/
function e(t){this.axis="",this.separator="",this.owner="",this.isClone=!1,this.parentNode=t,this.previousNode,this.childNodes,this.content,this.addChild=function(e){this.childNodes||(this.childNodes=[]),this.childNodes.push(e)},this.add=function(){let e="";for(let t=0;t<arguments.length;t++)e+=arguments[t];this.content||(this.content=[]),this.content.push(e)},this.hasAxis=function(e){if(this.axis===e)return!0;if(this.childNodes)for(let t=0;t<this.childNodes.length;t++)if(this.childNodes[t].hasAxis(e))return!0;return!1},this.hasOr=function(){if(this.content&&this.content.some((e=>" or "===e||" | "===e)))return!0;if(this.childNodes)for(let e=0;e<this.childNodes.length;e++)if(this.childNodes[e].hasOr())return!0;return!1},this.clone=function(){const t=new e;return t.owner=this.owner,t.isClone=!0,t},this.toString=function(e=""){return this.isClone||(e=this.separator+this.axis+this.owner,this.content&&(e+=this.content.join(""))),this.childNodes&&this.childNodes.forEach((t=>{e+=t.toString(e)})),e}}function t(e,n,s,a,r){const o=new Error(s,a,r);return o.parser=!0,o.column=n,o.code=e,Object.setPrototypeOf(o,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(o,t),o}t.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,Error):t.__proto__=Error;const n=/(?:[a-zA-Z]+\|)?(?:[a-zA-Z][^ -,.\/:-@[-^`{-~]*)|(?:[a-zA-Z]+\|*)/y,s=/(?:^\\00003\d+)?(?:\\[^ ]|[^\t-,.\/:-@[-^`{-~])+/y,a=/((?:[a-z]+-)*[a-z]+)(?:([(])|(?=[ ,:+>~!^]|$))/y,r=/^([+-])?([0-9]+)?n(?:([+-])([0-9]+))?$/,o=/(?:(?:\*|[a-zA-Z]+)\|)?(?:\*|[^ -,.\/:-@[-^`{-~]+)/y,i=/(?:[a-zA-Z]+\|)?[^ -,.\/:-@[-^`{-~]+(?=(?:[~^|$!*]?=)|\])/y,c=/(?:"([^"]*)"|'([^']*)'|((?:\\[^ ]|[^ "'\]])+))(?: +([siSI]))?(?=\])/y,l=Object.freeze({Text:0,PseudoClass:1,AttributeName:2,AttributeValue:3}),d="Pseudo-class ':",u="\nSystem.Xml.XPath.XPathNavigator doesn't support '*' as a namespace.";let h,f,p,g,b,w,m,k,x;function N(t,n){h=Object.assign({},{axis:".//",consoleUse:!1,standard:!1,removeXPathSpaces:!1,uppercaseLetters:"",lowercaseLetters:"",postprocess:!0,debug:!1},n),f="",p="",w=[];const s=new e;let a,r;try{Q(t)&&ne("selector is null or white space"),g=h.uppercaseLetters?h.uppercaseLetters.trim():"",b=h.lowercaseLetters?h.lowercaseLetters.trim():"",g.length!==b.length&&ne("Custom upper and lower case letters have different length"),r=function(e){const t=",>+=~^!:([",n=",>+=~^!$]()";m=e,x=m.length;let s=!1,a=!1,r="\0";const o=[];for(let e=0;e<x;e++){const c=m[e];if(" "===c||/\s/.test(c)){if(a)continue;s&&(t.includes(r)?(s=!1,a=!1):a=!0)}else if("\\"===c)(e+1>=x||/\s/.test(m[e+1]))&&se(e,c,"Non-escape character",m),o.push(c),o.push(m[++e]);else if("/"===c&&K(e,"*")){e+=2;const t=i(e,c,!0);-1===t?o.push("/*"):e=t}else if('"'===c||"'"===c){const t=i(e,c,!1);-1!==t?(o.push(m.substring(e,t+1)),e=t):se(e,c,"function normalizeWhiteSpaces()",m),s=!0,r=c}else!a||n.includes(c)||"*"===c&&K(e,"=")||o.push(" "),o.push(c),s=!0,a=!1,r=c}function i(e,t,n){for(;++e<x;)if(m[e]===t){if(n&&"*"!==m[e-1])continue;return e}return-1}return o.join("")}(t),a=$(s,r,h.axis,null),a=function(e){h.postprocess&&(h.removeXPathSpaces&&(e=e.replace(/("[^"]+"|'[^']+')|([,<=>|+-]) +| +(?=[<=>|+-])/g,((e,t,n)=>t||n||""))),e=(e=(e=(e=e.replace(/([([]| or )self::node\(\)\[((?:[^'"[\]]|"[^"]*"|'[^']*')+)\](?!\[| *\|)/g,"$1$2")).replace(/((?:[^'"[\]]|"[^"]*"|'[^']*')+)|\]\[(?![[(])/g,((e,t)=>t||" and "))).replace(/\[\(((?:[^'"()]|"[^"]*"|'[^']*')+)\)]/g,((e,t)=>"["+t+"]"))).replace(/\/child::/g,"/"));return e=e.replace(/((?:[^'"{}]|"[^"]*"|'[^']*')+)|[{}]/g,((e,t)=>t||"")),e}(a)}catch(e){return e.parser?h.debug&&console.log(e.message,e.code,e.column):console.error(e),{xpath:a,css:r,warning:f,error:e.message}}return{xpath:a,css:r,warning:f,error:p}}function y(e,t,n,s,a){t||ne("The pseudo-selector ':"+a.name+"()' have missing argument."),w.push(m);const r=$(e,t,n,s,a);return m=w.pop(),x=m.length,r}function $(e,t,n,a,r){t||ne("selector is empty or white space");let o=v(e,null),i=v(o,null);const c=r?r.name:"",d=r&&r.predicate;let h,f,p=null,g=null,b=null,w=null,N=l.Text,y=!1,$=!0,j=-1;for(m=t,x=m.length,/^[,(]/.test(m)&&se(0,m[0],"State.Text",m);++j<x;)if(k=j,f=m[j],N===l.Text){switch((y&&!/[>+~^!.#*:|[@a-zA-Z]/.test(f)||!y&&!/[ >+~^!,.#*:|[@a-zA-Z]/.test(f))&&se(j,f,A(N)+", check="+y,m),r&&/!?[+~]/.test(f)&&c.endsWith("-sibling")&&ne("'"+c+"()' with these arguments has no implementation"),(/[.#:[]/.test(f)||"has"!==c&&i.previousNode&&/[>+~^!]/.test(f))&&(S(n,i),E(a,i)),f){case".":let t="[";do{if([j,h]=M(j+1),t+=T("@class",U(" "+h+" ")),s.lastIndex=j+2,!K(j,".")||!s.test(m))break;t+=" and "}while(++j<x);i.add(t+"]"),y=!1;break;case"#":[j,h]=M(j+1),i.add("[@id=",U(h),"]"),y=!1;break;case">":i=v(o,i,"child::","/"),y=!0;break;case"+":i=z(o,i,"following-sibling::","*","[1]","self::"),y=!0;break;case"~":i=v(o,i,"following-sibling::","/"),y=!0;break;case"^":i=z(o,i,"child::","*","[1]","self::"),y=!0;break;case"!":K(j,"^")?(i=z(o,i,"child::","*","[last()]","self::"),j++):K(j,"+")?(i=z(o,i,"preceding-sibling::","*","[1]","self::"),j++):K(j,">")?(i=v(o,i,"parent::","/"),j++):K(j,"~")?(i=v(o,i,"preceding-sibling::","/"),j++):i=v(o,i,"ancestor-or-self::","/"),y=!0;break;case"[":p="",g=null,b=null,w=null,N=l.AttributeName;break;case":":K(j,":")&&j++,N=l.PseudoClass;break;case",":j+1>=x&&se(j,f,A(N),m),o=v(e,o),o.add(d?" or ":" | "),o=v(e,o),i=v(o,null,r?"":n),y=!0;break;case"@":[j,i]=O(j,n,r,o,i),y=!1;break;case"*":S(n,i,r),i.owner="*",y=!1;break;case" ":r?"has-ancestor"===c?i=v(o,i,"ancestor::"," and "):"has-parent"===c||"before"===c||"after"===c||c.endsWith("-sibling")?(i.previousNode||(i.axis="ancestor::",i.separator=""),i=v(o,i,"ancestor::"," and ")):"not"===c&&"self::"===i.axis?(i.previousNode&&"ancestor::"===i.previousNode.axis&&(i.separator=" and "),i.axis="ancestor::",i=v(o,i,"self::","//")):i=v(o,i,null,"//"):i=v(o,i,null,"//"),y=!0;break;case"|":K(j,"|")?se(j+1,f,A(N),m):[j,i]=C(j,n,$,o,i),y=!1;break;case"\\":j++;break;default:/[a-zA-Z]/.test(f)?(i.owner&&se(j,f,A(N),m),S(n,i,r),j=_(j,i)):se(j,f,A(N),m),y=!1}$=!1}else if(N===l.AttributeName)switch(f){case"=":w="=",g=null,N=l.AttributeValue;break;case"!":case"~":case"^":case"$":case"*":case"|":K(j,"=")?(w=f+"=",j++,g=null,N=l.AttributeValue):"*"===f&&K(j,"|")?(p="*:",j++,Y(u)):se(j,f,A(N),m);break;case"]":p||te("attrName is null or empty.'"),i.add("[@"+p+"]"),N=l.Text,y=!1;break;case" ":break;default:[j,h]=G(j),p+=h}else if(N===l.AttributeValue)switch(f){case"]":null===g&&te("attrValue is null."),P(p,g,w,b,i),N=l.Text,y=!1;break;case"=":se(j,f,A(N),m);break;case" ":break;default:g&&te("attrValue '"+g+"' is already parse: "+m.substring(j)),[j,g,b]=H(j)}else if(N===l.PseudoClass){let e="",t="";if([j,e,t]=F(j),"root"===e)i.owner=i.separator="",i.axis="//",i=v(o,i,"ancestor-or-self::"),i.owner="*",i.add("[last()]");else if(E(a,i),e.startsWith("nth-")){i=L(e,t,r&&"not"===r.name,o,i)}else I(e,t,i);N=l.Text,y=!1}let Z=e.toString();return y&&/(?:\/|::)$/.test(Z)?Z+"*":((y||N!==l.Text)&&te("Something is wrong: '"+A(N)+"' xpath='"+Z+"' in: "+m),Z)}function A(e){return"State."+Object.keys(l)[e]}function v(t,n,s,a){const r=new e(t);return t.addChild(r),r.previousNode=n,r.axis=s||"",a&&n.owner&&(r.separator=a),r}function z(e,t,n,s,a,r){const o=v(e,t,n,"/");return o.owner=s,o.add(a),v(e,o,r,"/")}function S(e,t,n){if(!e||t.axis||"self::"===e&&!n)return;const s=t.parentNode.toString().trim(),a=s.length;if(0==a||/ (?:or|\|)$/.test(s))t.axis=e;else{const n=s[a-1];":"!=n&&"|"!=n||(t.axis=e)}}function E(e,t){if(t.owner)return;let n="";if(t.previousNode){const s=t.parentNode.toString().trim();if(s.length)if(/(?: or|\|)$/.test(s))n=e||"*";else{const t=s[s.length-1];e?":"===t?n="*":"/"===t&&(n=e):":"!==t&&"/"!==t||(n="*")}}else n=e||"*";t.owner=n}function C(e,t,n,s,a){if("*"==a.owner)K(e,"*")?(a.owner="*:*",e++):a.owner="*:",Y(u);else if(n&&S(t,a),K(e,"*"))a.owner?a.owner+=":*":(a.owner="*",a.add("[not(contains(name(), ':'))]")),e++;else{if(e+1<x&&/[a-zA-Z]/.test(m[e+1])){let t=v(s,a,"self::","/");return t.owner="*",[e,t]}a.owner="*:",Y(u)}return[e,a]}function O(e,t,n,s,a){const r=a.parentNode.toString().trim();if(0===r.length)n&&(t="");else if(/ (?:or|\|)$/.test(r))t="";else{const e=r[r.length-1];t=":"!==e&&"/"!==e?"/":""}o.lastIndex=e+1;const i=o.exec(m);if(null!==i){const n=v(s,a,t);return n.add("@",i[0].replace("|",":").toLowerCase()),[e+i[0].length,n]}ae(e,"parseAttribute",o)}function P(e,t,n,s,a){if(!t.trim())return void("="===n?a.add("[@",e," = '']"):"!="===n?a.add("{[not(@",e,") or @",e," != '']}"):"|="===n?a.add("{[@",e," = '' or starts-with(@",e,", '-')]}"):a.add("[false()]"));const r="i"===s||"lang"===e||"type"===e&&"input"==D(a);if(!h.standard&&"class"===e)return void function(e,t,n,s){const a=n?q("@class",!1):"@class";let r=e.trim();switch(t){case"=":case"~=":case"!=":r=" "+r+" ";break;case"^=":r=" "+r;break;case"$=":r+=" "}r=n?q(r):U(r);if("!="===t)s.add("{[not(",a,") or not(",T(a,r),")]}");else if("*="===t)s.add("[contains(",a,", ",r,")]");else if("|="===t){const t=n?q(" "+e+" "):U(" "+e+" "),r=n?q(" "+e+"-"):U(" "+e+"-");s.add("{[",T(a,t)," or ",T(a,r),"]}")}else s.add("[",T(a,r),"]")}(t,n,r,a);const o=r?q("@"+e,!1):null,i=U(t);switch(n){case"=":r?a.add("[",o," = ",q(t),"]"):a.add("[@",e,"=",i,"]");break;case"!=":r?a.add("{[not(@",e,") or ",o,"!=",q(t),"]}"):a.add("{[not(@",e,") or @",e,"!=",i,"]}");break;case"~=":r?a.add("[contains(concat(' ', normalize-space(",o,"), ' '), concat(' ', ",q(t),", ' '))]"):a.add("[contains(concat(' ', normalize-space(@",e,"), ' '), ' ",t," ')]");break;case"|=":r?a.add("{[",o," = ",q(t)," or starts-with(",o,", concat(",q(t),", '-'))]}"):a.add("{[@",e," = ",i," or starts-with(@",e,", ",U(t+"-"),")]}");break;case"^=":r?a.add("[starts-with(",o,", ",q(t),")]"):a.add("[starts-with(@",e,", ",i,")]");break;case"$=":r?a.add("[substring(",o,", string-length(@",e,") - (string-length(",i,") - 1)) = ",q(t),"]"):a.add("[substring(@",e,", string-length(@",e,") - (string-length(",i,") - 1)) = ",i,"]");break;case"*=":r?a.add("[contains(",o,", ",q(t),")]"):a.add("[contains(@",e,", ",i,")]")}}function T(e,t){return`contains(concat(' ', normalize-space(${e}), ' '), ${t})`}function I(e,t,n){let s,a,r,o,i="",c="local-name()";switch(e){case"any-link":n.add("[(",c," = 'a' or ",c," = 'area') and @href]");break;case"external":n.add("{[(",c," = 'a' or ",c," = 'area') and (starts-with(@href, 'https://') or starts-with(@href, 'http://'))]}");break;case"contains":n.add("[contains(normalize-space(), ",B(t,e),")]");break;case"icontains":n.add("[contains(",q(),", ",q(B(t,e),!1),")]");break;case"empty":i="[not(*) and not(text())]";break;case"first-child":i="[not(preceding-sibling::*)]";break;case"first":i=t?"[position() <= "+W(t)+"]":"[1]";break;case"first-of-type":r=D(n,e),n.add("[not(preceding-sibling::",r,")]");break;case"gt":case"skip":n.add("[position() > ",W(t),"]");break;case"lt":n.add("[position() < ",W(t),"]");break;case"eq":case"nth":n.add("[",W(t),"]");break;case"last-child":i="[not(following-sibling::*)]";break;case"only-child":i="[not(preceding-sibling::*) and not(following-sibling::*)]";break;case"only-of-type":r=D(n,e),n.add("[not(preceding-sibling::",r,") and not(following-sibling::",r,")]");break;case"text":i="[@type='text']";break;case"starts-with":n.add("[starts-with(normalize-space(), ",B(t,e),")]");break;case"istarts-with":n.add("[starts-with(",q(),", ",q(B(t,e),!1),")]");break;case"ends-with":o=B(t,e),n.add("[substring(normalize-space(), string-length(normalize-space()) - string-length(",o,") + 1) = ",o,"]");break;case"iends-with":o=B(t,e),n.add("[substring(",q(),", string-length(normalize-space()) - string-length(",o,") + 1) = ",q(o,!1),"]");break;case"is":case"matches":s=n.clone(),a=y(s,t,"self::","self::node()",{predicate:!0,name:e}),u(s,"["+a+"]");break;case"not":s=n.clone(),a=y(s,t,"self::","self::node()",{name:e}),"self::node()"!==a&&(s.hasAxis("ancestor::")&&(a=j(s)),u(s,"[not("+a+")]"));break;case"has":s=n.clone(),a=y(s,t,".//","",{name:e}),u(s,"["+a+"]");break;case"has-sibling":s=n.clone();let h=y(s,t,"preceding-sibling::","",{name:e});s.hasAxis("ancestor::")&&(h=j(s,"preceding-sibling::")),s=n.clone();let f=y(s,t,"following-sibling::","",{name:e});s.hasAxis("ancestor::")&&(f=j(s,"following-sibling::")),n.add("{[(",h,") or (",f,")]}");break;case"has-parent":l("parent::");break;case"has-ancestor":s=n.clone(),a=y(s,t,"ancestor::","",{name:e}),u(s,"["+a+"]");break;case"after":l("preceding::");break;case"after-sibling":l("preceding-sibling::");break;case"before":l("following::");break;case"before-sibling":l("following-sibling::");break;case"last":i=t?"[position() > last() - "+W(t)+"]":"[last()]";break;case"last-of-type":r=D(n,e),n.add("[not(following-sibling::",r,")]");break;case"skip-first":n.add("[position() > ",t?W(t):"1","]");break;case"skip-last":n.add("[position() < last()",t?" - ("+W(t)+" - 1)":"","]");break;case"limit":n.add("[position() <= ",W(t),"]");break;case"range":const p=t.split(",");2!==p.length&&ne(d+e+"(,)' requires two numbers");const g=W(p[0]),b=W(p[1]);g>=b&&ne(d+e+"("+g+", "+b+")' have wrong arguments"),n.add("[position() >= ",g," and position() <= ",b,"]");break;case"target":i="[starts-with(@href, '#')]";break;case"disabled":i="[@disabled]";break;case"enabled":i="[not(@disabled)]";break;case"selected":n.add("[",c," = 'option' and @selected]");break;case"checked":n.add("[(",c," = 'input' and (@type='checkbox' or @type='radio') or ",c," = 'option') and @checked]");break;default:te(d+e+"' is not implemented")}function l(s){const a=n.clone();let r=y(a,t,s,"",{name:e});a.hasAxis("ancestor::")&&(r=j(a,s)),u(a,"["+r+"]")}function u(e,t){n.add(e.hasOr()?"{"+t+"}":t)}i&&n.add(i)}function j(e,t){let n="";return e.childNodes.forEach((e=>{if(e.hasAxis("ancestor::")){let s="";const a=e.childNodes.length-1;e.childNodes.forEach(((e,n)=>{n<a?s+=e.toString():(e.separator="",t&&(e.axis=t),s=e.toString()+"["+s+"]")})),n+=s}else n+=e.toString()})),n}function L(e,t,n,s,a){Q(t)&&ne("argument is empty or white space");let r,o="*";if("nth-child"===e||"nth-last-child"===e){const n=function(e,t,n){let s,a="*";const r=/ +of +(.+)$/,o=r.exec(t);if(null!==o){const i=n.clone();if(s=y(i,o[1],"","self::node()",{predicate:!0,name:e}),1===i.childNodes.length){const e=i.childNodes[0],t=e.childNodes[0];if("self::node()"===t.owner){t.owner="";const n="{"+e.toString()+"}";a+=n,s=n}else a="{"+s+"}",s="{["+s+"]}"}else s="{["+s+"]}",a+=s;return{arg:t.replace(r,""),owner:a,ofResult:s}}return null}(e,t,a);n&&(t=n.arg,o=n.owner,r=n.ofResult)}if(!function(e,t,n){if(/^(?:-?0n?|-n(?:[+-]0|-\d+)?|(?:0|-\d+)n(?:-\d+)?|(?:0|-\d+)n\+0)$/.test(e)){if(t)return!1;ne(d+n+"' with these arguments yield no matches")}t&&/^1?n(?:\+[01]|-\d+)?$/.test(e)&&ne(d+n+"' with these arguments in ':not()' yield no matches");return!0}(t=t.replace(/\s+/g,""),n,e))return a;let i="",c=!1,l=!1;switch(e){case"nth-child":c=!0,l=!n,i=Z(e,t,"preceding",o,!1,l);break;case"nth-last-child":i=Z(e,t,"following",o,!0,l);break;case"nth-of-type":o=D(a,e),i=Z(e,t,"preceding",o,!1,l);break;case"nth-last-of-type":o=D(a,e),i=Z(e,t,"following",o,!0,l);break;default:te(d+e+"' is not implemented")}if(!i)return r&&a.add(r),a;if(l&&c){const e=a.owner&&"self::node()"!==a.owner?a.owner:"*";a.owner=o,a.add(i),(a=v(s,a,"self::","/")).owner=e}else r&&a.add(r),a.add(i);return a}function Z(e,t,n,s,a,o){let i="";if(/^\d+$/.test(t)){const e=parseInt(t);i=R(n,s,{valueB:e,count:e-1,comparison:" = "},o)}else if("odd"===t)i=V(n,s," + 1",2,1);else if("even"===t)i=V(n,s," + 1",2,0);else{const e=function(e,t){const n=r.exec(e);if(null!==n){const e="-"===n[1],s=X(n[1],n[2],1),a=X(n[3],n[4],0),r=Math.abs(s);let o=a-1,i=t||0===r?" = ":e?" <= ":" >= ",c="none";return t&&(e?null==n[2]||r>=a?i=" <= ":(0!==r||a<2)&&(i=" < ",o++):0!==r&&(i=" >= ")),0===s?c="pos":(e||1!==a)&&a>0?c=r>1?"both":"pos":r>1&&(c="mod"),{valueA:r,valueB:a,count:o,comparison:i,type:c}}ae(0,"parseFnNotation",r)}(t,a);if(e.valueA){const t=function(e){const t=1-e;return 0===t?"":(t<0?" - ":" + ")+Math.abs(t)}(e.valueB);"mod"===e.type?i=V(n,s,t,e.valueA,0):"pos"===e.type?i=R(n,s,e,o):"both"===e.type&&(i=R(n,s,e,o)+V(n,s,t,e.valueA,0),i=i.replace("]["," and "))}else i=R(n,s,e,o)}return i}function V(e,t,n,s,a){return`[(count(${e}-sibling::${t})${n}) mod ${s} = ${a}]`}function R(e,t,n,s){return s?`[position()${n.comparison}${n.valueB}]`:0===n.count&&/^<?=$/.test(n.comparison.trim())?`[not(${e}-sibling::${t})]`:`[count(${e}-sibling::${t})${n.comparison}${n.count}]`}function X(e,t,n){return null!=t?+((e&&"-"===e?"-":"")+t):n}function q(e=null,t=!0){return"translate("+(e=null===e?"normalize-space()":t?U(e):e)+", 'ABCDEFGHJIKLMNOPQRSTUVWXYZ"+g+"', 'abcdefghjiklmnopqrstuvwxyz"+b+"')"}function B(e,t,n=!0){return e||ne(d+t+" has an empty argument."),n&&(e=U(e,t)),e}function U(e,t){if((e=e.replace(/\\(.)/g,((e,t)=>t))).includes("'")){if(!e.includes('"'))return'"'+e+'"';ne((t?d+t+"' string argument":"string")+" contains both '\"' and ''' quotes")}return"'"+e+"'"}function W(e){const t=parseInt(e);if(Number.isInteger(t))return t;ne("argument is not an integer")}function _(e,t){n.lastIndex=e;const s=n.exec(m);if(null!==s){const n=s[0].replace("|",":").toLowerCase();return"*:"===t.owner?t.owner+=n:t.owner=n,e+s[0].length-1}ae(e,"getTagName",n)}function M(e){s.lastIndex=e;const t=s.exec(m);if(null!==t)return[e+t[0].length-1,t[0].replace(/^\\00003(?=\d+)/,"")];ae(e,"getClassValue",s)}function F(e){a.lastIndex=e;const t=a.exec(m);if(null!==t){const n=t[1];if(null!=t[2]){const s=function(e,t,n,s){let a=!0,r=e,o=0;for(;e<t.length;e++){const i=t[e];if(a)i===n&&(o++,r=e+1),a=!1;else if('"'===i||"'"===i){for(;++e<t.length&&t[e]!==i;);e>=t.length&&se(e,i,"function getArgument()",t)}else if(i===n)o++;else if(i===s&&0==--o)return{index:e,content:J(t.substring(r,e))}}return null}(e+t[0].length-1,m,"(",")");if(s)return[s.index,n,s.content]}return[e+t[0].length-1,n,""]}ae(e,"getPseudoClass",a)}function D(e,t){const n="self::node()"!==e.owner?e.owner:e.parentNode.parentNode.owner;return t&&"*"==n&&te(d+t+"' is required an element name; '*' is not implemented."),n}function G(e){i.lastIndex=e;const t=i.exec(m);if(null!==t){const n=t[0].toLowerCase();return[e+t[0].length-1,n]}ae(e,"getAttributeName",i)}function H(e){c.lastIndex=e;const t=c.exec(m);if(null!==t){let n,s;return n=null!=t[1]?t[1]:null!=t[2]?t[2]:t[3],null!=t[4]&&(s=t[4].toLowerCase()),[e+t[0].length-1,n,s]}ae(e,"getAttributeValue",c)}function J(e){let t=e.length;if(t>1){const n=e[0],s=e[t-1];("'"===n&&"'"===s||'"'===n&&'"'===s)&&t>2&&(e=e.substr(1,t-2))}return e}function K(e,t){return e+1<x&&m[e+1]===t}function Q(e){return null==e||!e.trim()}function Y(e){h.consoleUse||f.includes(e)||(f+=e)}function ee(e){"function"==typeof h.printError&&h.printError(e)}function te(e){throw ee(e),new t(m,k+1,e)}function ne(e){throw ee(e),new t(m,"?",e)}function se(e,n,s,a){throw ee(s+". Unexpected character '<b>"+n+"</b>'\nposition <b>"+(e+1)+"</b>\nstring - '<b>"+a+"</b>'"),new t(a,e+1,s=s+". Unexpected character '"+n+"'")}function ae(e,n,s){ee("function - <b>"+n+"()</b>\nError - RegExp failed to match the string:\nstring - '<b>"+m.substring(e)+"</b>'\nRegExp - '<b>"+s+"</b>'");const a="function "+n+"() - RegExp '"+s+"' failed to match the string '"+m.substring(e)+"'";throw new t(m,e+1,a)}export{N as default};
