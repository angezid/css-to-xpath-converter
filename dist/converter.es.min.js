/*!*******************************************
* css-to-xpath-converter 1.0.0
* https://github.com/angezid/css-to-xpath-converter
* MIT licensed
* Copyright (c) 2024â€“2025, angezid
*********************************************/
function e(t){this.axis="",this.separator="",this.owner="",this.isClone=!1,this.parentNode=t,this.previousNode,this.childNodes,this.content,this.addChild=function(e){this.childNodes||(this.childNodes=[]),this.childNodes.push(e)},this.add=function(){let e="";for(let t=0;t<arguments.length;t++)e+=arguments[t];this.content||(this.content=[]),this.content.push(e)},this.hasAxis=function(e){if(this.axis===e)return!0;if(this.childNodes)for(let t=0;t<this.childNodes.length;t++)if(this.childNodes[t].hasAxis(e))return!0;return!1},this.hasOr=function(){if(this.content&&this.content.some((e=>" or "===e||" | "===e)))return!0;if(this.childNodes)for(let e=0;e<this.childNodes.length;e++)if(this.childNodes[e].hasOr())return!0;return!1},this.clone=function(){const t=new e;return t.owner=this.owner,t.isClone=!0,t},this.toString=function(e=""){return this.isClone||(e=this.separator+this.axis+this.owner,this.content&&(e+=this.content.join(""))),this.childNodes&&this.childNodes.forEach((t=>{e+=t.toString(e)})),e}}function t(e,n,s,a,r){const o=new Error(s,a,r);return o.parser=!0,o.column=n,o.code=e,Object.setPrototypeOf(o,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(o,t),o}t.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,Error):t.__proto__=Error;const n=/(?:[a-zA-Z]+\|)?(?:[a-zA-Z][^ -,.\/:-@[-^`{-~]*)|(?:[a-zA-Z]+\|*)/y,s=/(?:^\\00003\d+)?(?:\\[^ ]|[^\t-,.\/:-@[-^`{-~])+/y,a=/((?:[a-z]+-)*[a-z]+)(?:([(])|(?=[ ,:+>~!^]|$))/y,r=/^([+-])?([0-9]+)?n(?:([+-])([0-9]+))?$/,o=/(?:(?:\*|[a-zA-Z]+)\|)?(?:\*|[^ -,.\/:-@[-^`{-~]+)/y,i=/(?:[a-zA-Z]+\|)?[^ -,.\/:-@[-^`{-~]+(?=(?:[~^|$!*]?=)|\])/y,c=/(?:"([^"]*)"|'([^']*)'|((?:\\[^ ]|[^ "'\]])+))(?: +([siSI]))?(?=\])/y,l=Object.freeze({Text:0,PseudoClass:1,AttributeName:2,AttributeValue:3}),d="Pseudo-class ':",u="preceding-sibling::",h="following-sibling::",f="\nSystem.Xml.XPath.XPathNavigator doesn't support '*' as a namespace.";let p,b,g,m,w,k,x,N,y;function A(t,n){p=Object.assign({},{axis:".//",consoleUse:!1,standard:!1,removeXPathSpaces:!1,uppercaseLetters:"",lowercaseLetters:"",postprocess:!0,debug:!1},n),b="",g="",k=[];const s=new e;let a,r;try{se(t)&&ie("selector is null or white space"),m=p.uppercaseLetters?p.uppercaseLetters.trim():"",w=p.lowercaseLetters?p.lowercaseLetters.trim():"",m.length!==w.length&&ie("Custom upper and lower case letters have different length"),r=function(e){const t=",>+=~^!:([",n=",>+=~^!$]()";x=e,y=x.length;let s=!1,a=!1,r="\0";const o=[];for(let e=0;e<y;e++){const c=x[e];if(" "===c||/\s/.test(c)){if(a)continue;s&&(t.includes(r)?(s=!1,a=!1):a=!0)}else if("\\"===c)(e+1>=y||/\s/.test(x[e+1]))&&ce(e,c,"Non-escape character",x),o.push(c,x[++e]);else if("/"===c&&ne(e,"*")){e+=2;const t=i(e,c,!0);-1===t?o.push("/*"):e=t}else if('"'===c||"'"===c){const t=i(e,c,!1);-1!==t?(o.push(x.substring(e,t+1)),e=t):ce(e,c,"function normalizeWhiteSpaces()",x),s=!0,r=c}else!a||n.includes(c)||"*"===c&&ne(e,"=")||o.push(" "),o.push(c),s=!0,a=!1,r=c}function i(e,t,n){for(;++e<y;)if(x[e]===t){if(n&&"*"!==x[e-1])continue;return e}return-1}return o.join("")}(t),a=z(s,r,p.axis,null),a=function(e){p.postprocess&&(p.removeXPathSpaces&&(e=e.replace(/("[^"]+"|'[^']+')|([,<=>|+-]) +| +(?=[<=>|+-])/g,((e,t,n)=>t||n||""))),e=(e=(e=(e=e.replace(/([([]| or )self::node\(\)\[((?:[^'"[\]]|"[^"]*"|'[^']*')+)\](?!\[| *\|)/g,"$1$2")).replace(/((?:[^'"[\]]|"[^"]*"|'[^']*')+)|\]\[(?![[(])/g,((e,t)=>t||" and "))).replace(/\[\(((?:[^'"()]|"[^"]*"|'[^']*')+)\)]/g,((e,t)=>"["+t+"]"))).replace(/\/child::/g,"/"));return e=e.replace(/((?:[^'"{}]|"[^"]*"|'[^']*')+)|[{}]/g,((e,t)=>t||"")),e}(a)}catch(e){return e.parser?p.debug&&console.log(e.message,e.code,e.column):console.error(e),{xpath:a,css:r,warning:b,error:e.message}}return{xpath:a,css:r,warning:b,error:g}}function $(e,t,n,s,a){t||ie("The pseudo-selector ':"+a.name+"()' have missing argument."),k.push(x);const r=z(e,t,n,s,a);return x=k.pop(),y=x.length,r}function z(e,t,n,a,r){t||ie("selector is empty or white space");let o=S(e,null),i=S(o,null);const c=r?r.name:"",d=r&&r.predicate,p="not"===c;let b,g,m=null,w=null,k=null,A=null,$=l.Text,z=!1,V=!0,X=-1;for(x=t,y=x.length,/^[,(]/.test(x)&&ce(0,x[0],"State.Text",x);++X<y;)if(N=X,g=x[X],$===l.Text){switch((z&&!/[>+~^!.#*:|[@a-zA-Z]/.test(g)||!z&&!/[ >+~^!,.#*:|[@a-zA-Z]/.test(g))&&ce(X,g,v($)+", check="+z,x),r&&/!?[+~]/.test(g)&&c.endsWith("-sibling")&&ie("'"+c+"()' with these arguments has no implementation"),(/[.#:[]/.test(g)||"has"!==c&&i.previousNode&&/[>+~^!]/.test(g))&&(O(n,i,r),P(a,i)),g){case".":let t="[";do{if([X,b]=J(X+1),t+=L("@class",D(" "+b+" ")),s.lastIndex=X+2,!ne(X,".")||!s.test(x))break;t+=" and "}while(++X<y);i.add(t+"]"),z=!1;break;case"#":[X,b]=J(X+1),i.add("[@id=",D(b),"]"),z=!1;break;case">":i=p?E(o,i,"parent::"):S(o,i,"child::","/"),z=!0;break;case"+":i=C(o,i,p?u:h,"*","{[1]}"),z=!0;break;case"~":i=p?E(o,i,u):S(o,i,h,"/"),z=!0;break;case"^":i=p?E(o,i,"parent::",W(u)):C(o,i,"child::","*","[1]"),z=!0;break;case"!":ne(X,"^")?(i=p?E(o,i,"parent::",W(h)):C(o,i,"child::","*","[last()]"),X++):ne(X,"+")?(i=p?C(o,i,h,"*","{[1]}"):C(o,i,u,"*","[1]"),X++):ne(X,">")?(i=p?E(o,i,"child::"):S(o,i,"parent::","/"),X++):ne(X,"~")?(i=p?E(o,i,h):S(o,i,u,"/"),X++):i=p?E(o,i,"descendant-or-self::"):S(o,i,"ancestor-or-self::","/"),z=!0;break;case"[":m="",w=null,k=null,A=null,$=l.AttributeName;break;case":":ne(X,":")&&X++,$=l.PseudoClass;break;case",":X+1>=y&&ce(X,g,v($),x),o=S(e,o),o.add(d?" or ":" | "),o=S(e,o),i=S(o,null,r?"":n),z=!0;break;case"@":[X,i]=I(X,n,r,o,i),z=!1;break;case"*":O(n,i,r),i.owner="*",z=!1;break;case" ":r?"has-ancestor"===c?i=S(o,i,"ancestor::"," and "):["has-parent","before","after"].includes(c)||c.endsWith("-sibling")?(i.previousNode||(i.axis="ancestor::",i.separator=""),i=S(o,i,"ancestor::"," and ")):"not"===c&&"self::"===i.axis?(i.previousNode&&"ancestor::"===i.previousNode.axis&&(i.separator=" and "),i.and=!0,i=E(o,i,"ancestor::")):i=S(o,i,null,"//"):i=S(o,i,null,"//"),z=!0;break;case"|":ne(X,"|")?ce(X+1,g,v($),x):[X,i]=T(X,n,V,o,i),z=!1;break;case"\\":X++;break;default:/[a-zA-Z]/.test(g)?(i.owner&&ce(X,g,v($),x),O(n,i,r),X=H(X,i)):ce(X,g,v($),x),z=!1}V=!1}else if($===l.AttributeName)switch(g){case"=":A="=",w=null,$=l.AttributeValue;break;case"!":case"~":case"^":case"$":case"*":case"|":ne(X,"=")?(A=g+"=",X++,w=null,$=l.AttributeValue):"*"===g&&ne(X,"|")?(m="*:",X++,ae(f)):ce(X,g,v($),x);break;case"]":m||oe("attrName is null or empty.'"),i.add("[@"+m+"]"),$=l.Text,z=!1;break;case" ":break;default:[X,b]=Y(X),m+=b}else if($===l.AttributeValue)switch(g){case"]":null===w&&oe("attrValue is null."),j(m,w,A,k,i),$=l.Text,z=!1;break;case"=":ce(X,g,v($),x);break;case" ":break;default:w&&oe("attrValue '"+w+"' is already parse: "+x.substring(X)),[X,w,k]=ee(X)}else if($===l.PseudoClass){let e="",t="";[X,e,t]=K(X),"root"===e?(i.owner=i.separator="",i.axis="//",i=S(o,i,"ancestor-or-self::"),i.owner="*",i.add("[last()]")):(P(a,i),e.startsWith("nth-")?R(e,t,r,i):Z(e,t,p,i)),$=l.Text,z=!1}let q=e.toString();return z&&/(?:\/|::)$/.test(q)?q+"*":((z||$!==l.Text)&&oe("Something is wrong: '"+v($)+"' xpath='"+q+"' in: "+x),q)}function v(e){return"State."+Object.keys(l)[e]}function S(t,n,s,a){const r=new e(t);return t.addChild(r),r.previousNode=n,r.axis=s||"",a&&n.owner&&(r.separator=a),r}function E(e,t,n,s){"node()"===t.owner&&(t.owner="*"),t.axis=n;var a=S(e,t,"self::","/");return s&&a.add(s),a}function C(e,t,n,s,a){const r=S(e,t,n,"/");return r.owner=s,r.add(a),S(e,r,"self::","/")}function O(e,t,n){if(!e||t.axis||"self::"===e&&!n)return;const s=t.parentNode.toString().trim(),a=s.length;if(0==a||/ (?:or|\|)$/.test(s))t.axis=e;else{const n=s[a-1];":"!=n&&"|"!=n||(t.axis=e)}}function P(e,t){if(t.owner)return;let n="";if(t.previousNode){const s=t.parentNode.toString().trim();if(s.length)if(/(?: or|\|)$/.test(s))n=e||"*";else{const t=s[s.length-1];e?":"===t?n="*":"/"===t&&(n=e):":"!==t&&"/"!==t||(n="*")}}else n=e||"*";t.owner=n}function T(e,t,n,s,a){if("*"==a.owner)ne(e,"*")?(a.owner="*:*",e++):a.owner="*:",ae(f);else if(n&&O(t,a),ne(e,"*"))a.owner?a.owner+=":*":(a.owner="*",a.add("[not(contains(name(), ':'))]")),e++;else{if(e+1<y&&/[a-zA-Z]/.test(x[e+1])){let t=S(s,a,"self::","/");return t.owner="*",[e,t]}a.owner="*:",ae(f)}return[e,a]}function I(e,t,n,s,a){const r=a.parentNode.toString().trim();if(0===r.length)n&&(t="");else if(/ (?:or|\|)$/.test(r))t="";else{const e=r[r.length-1];t=":"!==e&&"/"!==e?"/":""}o.lastIndex=e+1;const i=o.exec(x);if(null!==i){const n=S(s,a,t);return n.add("@",i[0].replace("|",":").toLowerCase()),[e+i[0].length,n]}le(e,"parseAttribute",o)}function j(e,t,n,s,a){if(!t.trim())return void("="===n?a.add("[@",e," = '']"):"!="===n?a.add("{[not(@",e,") or @",e," != '']}"):"|="===n?a.add("{[@",e," = '' or starts-with(@",e,", '-')]}"):a.add("[false()]"));const r="i"===s||"lang"===e||"type"===e&&"input"==Q(a);if(!p.standard&&"class"===e)return void function(e,t,n,s){const a=n?M("@class"):"@class";let r=e.trim();switch(t){case"=":case"~=":case"!=":r=" "+r+" ";break;case"^=":r=" "+r;break;case"$=":r+=" "}r=n?B(r):D(r);if("!="===t)s.add("{[not(",a,") or not(",L(a,r),")]}");else if("*="===t)s.add("[contains(",a,", ",r,")]");else if("|="===t){const t=n?B(" "+e+" "):D(" "+e+" "),r=n?B(" "+e+"-"):D(" "+e+"-");s.add("{[",L(a,t)," or ",L(a,r),"]}")}else s.add("[",L(a,r),"]")}(t,n,r,a);const o=r?M("@"+e):null,i=D(t);switch(n){case"=":r?a.add("[",o," = ",B(t),"]"):a.add("[@",e,"=",i,"]");break;case"!=":r?a.add("{[not(@",e,") or ",o,"!=",B(t),"]}"):a.add("{[not(@",e,") or @",e,"!=",i,"]}");break;case"~=":r?a.add("[contains(concat(' ', normalize-space(",o,"), ' '), concat(' ', normalize-space(",B(t),"), ' '))]"):a.add("[contains(concat(' ', normalize-space(@",e,"), ' '), concat(' ', normalize-space(",i,"), ' '))]");break;case"|=":r?a.add("{[",o," = ",B(t)," or starts-with(",o,", concat(",B(t),", '-'))]}"):a.add("{[@",e," = ",i," or starts-with(@",e,", ",D(t+"-"),")]}");break;case"^=":r?a.add("[starts-with(",o,", ",B(t),")]"):a.add("[starts-with(@",e,", ",i,")]");break;case"$=":r?a.add("[substring(",o,", string-length(@",e,") - (string-length(",i,") - 1)) = ",B(t),"]"):a.add("[substring(@",e,", string-length(@",e,") - (string-length(",i,") - 1)) = ",i,"]");break;case"*=":r?a.add("[contains(",o,", ",B(t),")]"):a.add("[contains(@",e,", ",i,")]")}}function L(e,t){return`contains(concat(' ', normalize-space(${e}), ' '), ${t})`}function Z(e,t,n,s){let a,r,o,i,c="",l="local-name()";switch(e){case"any-link":s.add("[(",l," = 'a' or ",l," = 'area') and @href]");break;case"external":s.add("{[(",l," = 'a' or ",l," = 'area') and (starts-with(@href, 'https://') or starts-with(@href, 'http://'))]}");break;case"contains":s.add("[contains(normalize-space(), ",F(t,e),")]");break;case"icontains":s.add("[contains(",B(),", ",M(F(t,e)),")]");break;case"empty":c="[not(*) and not(text())]";break;case"first-child":s.add(W(u));break;case"first":n?s.add(t?b(t,e,u,"*"," <= "):W(u)):s.add(t?"[position() <= "+G(t,e)+"]":"[1]");break;case"first-of-type":o=Q(s,e),s.add(W(u,o));break;case"gt":case"skip":n?s.add(b(t,e,u,"*"," > ")):s.add("[position() > ",G(t,e),"]");break;case"lt":n?s.add(b(t,e,u,"*"," <= ")):s.add("[position() < ",G(t,e),"]");break;case"eq":case"nth":n?s.add(b(t,e,u,"*"," = ")):s.add("[",G(t,e),"]");break;case"last-child":s.add(W(h));break;case"only-child":s.add("[not(",u,"*) and not(",h,"*)]");break;case"only-of-type":o=Q(s,e),s.add("[not(",u,o,") and not(",h,o,")]");break;case"text":c="[@type='text']";break;case"starts-with":s.add("[starts-with(normalize-space(), ",F(t,e),")]");break;case"istarts-with":s.add("[starts-with(",B(),", ",M(F(t,e)),")]");break;case"ends-with":i=F(t,e),s.add("[substring(normalize-space(), string-length(normalize-space()) - string-length(",i,") + 1) = ",i,"]");break;case"iends-with":i=F(t,e),s.add("[substring(",B(),", string-length(normalize-space()) - string-length(",i,") + 1) = ",M(i),"]");break;case"is":case"matches":a=s.clone(),r=$(a,t,"self::","node()",{predicate:!0,name:e}),p(a,"["+r+"]");break;case"not":a=s.clone(),r=$(a,t,"self::","node()",{name:e}),"self::node()"!==r&&(r=function(e){let t="";return e.childNodes.forEach((e=>{if(e.childNodes){let n="",s="",a=!1;for(let t=e.childNodes.length-1;t>=0;t--){const r=e.childNodes[t];a?(r.separator||(a=!1),r.separator="",n+="["+r.toString(),s+="]"):(r.separator&&(a=!0,r.separator=""),n+=r.toString())}t+=n+s}else t+=e.toString()})),t}(a),p(a,"[not("+r+")]"));break;case"has":a=s.clone(),r=$(a,t,".//",null,{name:e}),p(a,"["+r+"]");break;case"has-sibling":a=s.clone();let g=$(a,t,u,null,{name:e});a.hasAxis("ancestor::")&&(g=V(a,u)),a=s.clone();let m=$(a,t,h,null,{name:e});a.hasAxis("ancestor::")&&(m=V(a,h)),s.add("{[(",g,") or (",m,")]}");break;case"has-parent":f("parent::");break;case"has-ancestor":a=s.clone(),r=$(a,t,"ancestor::",null,{name:e}),p(a,"["+r+"]");break;case"after":f("preceding::");break;case"after-sibling":f(u);break;case"before":f("following::");break;case"before-sibling":f(h);break;case"last":n?s.add(t?b(t,e,h,"*"," <= "):W(h)):s.add(t?"[position() > last() - "+G(t,e)+"]":"[last()]");break;case"last-of-type":o=Q(s,e),s.add(W(h,o));break;case"skip-first":n?s.add(t?b(t,e,u,"*"," > "):W(u)):s.add("[position() > ",t?G(t,e):"1","]");break;case"skip-last":n?s.add(t?b(t,e,h,"*"," > "):W(h)):s.add("[position() < last()",t?" - "+(G(t,e)-1):"","]");break;case"limit":n?s.add(b(t,e,u,"*"," <= ")):s.add("[position() <= ",G(t,e),"]");break;case"range":const w=t.split(",");2!==w.length&&ie(d+e+"(,)' is required two numbers");const k=G(w[0],e),x=G(w[1],e);k>=x&&ie(d+e+"("+k+", "+x+")' have wrong arguments"),n?s.add((U(u,"*",{count:k-1,comparison:" >= "})+U(u,"*",{count:x-1,comparison:" <= "})).replace("]["," and ")):s.add("[position() >= ",k," and position() <= ",x,"]");break;case"target":c="[starts-with(@href, '#')]";break;case"disabled":c="[@disabled]";break;case"enabled":c="[not(@disabled)]";break;case"selected":s.add("[",l," = 'option' and @selected]");break;case"checked":s.add("[(",l," = 'input' and (@type='checkbox' or @type='radio') or ",l," = 'option') and @checked]");break;case"read-only":case"read-write":s.add("[@",e.replace("-",""),"]");break;default:oe(d+e+"' is not implemented")}function f(n){const a=s.clone();let r=$(a,t,n,null,{name:e});a.hasAxis("ancestor::")&&(r=V(a,n)),p(a,"["+r+"]")}function p(e,t){s.add(e.hasOr()?"{"+t+"}":t)}function b(e,t,n,s,a){return U(n,s,{count:G(e,t)-1,comparison:a})}c&&s.add(c)}function V(e,t){let n="";return e.childNodes.forEach((e=>{if(e.hasAxis("ancestor::")){let s="";const a=e.childNodes.length-1;e.childNodes.forEach(((e,n)=>{n<a?s+=e.toString():(e.axis=t,e.separator="",s=e.toString()+"["+s+"]")})),n+=s}else n+=e.toString()})),n}function R(e,t,n,s){se(t)&&ie("argument is null or white space");let a,r="*",o="";if("nth-child"===e||"nth-last-child"===e){const n=function(e,t,n){let s,a="*";const r=/ +of +(.+)$/,o=r.exec(t);if(null!==o){const i=n.clone();if(s=$(i,o[1],null,"self::node()",{predicate:!0,name:e}),1===i.childNodes.length){const e=i.childNodes[0],t=e.childNodes[0],n="self::node()"===t.owner;t.owner="";const r="{"+e.toString()+"}";n?(a+=r,s=r):(a="{"+s+"}",s=r)}else s="{["+s+"]}",a+=s;return{arg:t.replace(r,""),owner:a,ofResult:s}}return null}(e,t,s);n&&(t=n.arg,r=n.owner,a=n.ofResult)}if(function(e,t,n){const s=t&&"not"===t.name;if(/^(?:-?0n?|-n(?:[+-]0|-\d+)?|(?:0|-\d+)n(?:-\d+)?|(?:0|-\d+)n\+0)$/.test(e)){if(s)return!1;ie(d+n+"' with these arguments yield no matches")}s&&/^1?n(?:\+[01]|-\d+)?$/.test(e)&&ie(d+n+"' with these arguments in ':not()' yield no matches");return!0}(t=t.replace(/\s+/g,""),n,e)){switch(e){case"nth-child":o=X(e,t,u,r,!1);break;case"nth-last-child":o=X(e,t,h,r,!0);break;case"nth-of-type":r=Q(s,e),o=X(e,t,u,r,!1);break;case"nth-last-of-type":r=Q(s,e),o=X(e,t,h,r,!0);break;default:oe(d+e+"' is not implemented")}a&&s.add(a),s.add(o)}}function X(e,t,n,s,a){let o="";if(/^\d+$/.test(t)){o=U(n,s,{count:parseInt(t)-1,comparison:" = "})}else if("odd"===t)o=q(n,s," + 1",2,1);else if("even"===t)o=q(n,s," + 1",2,0);else{const e=function(e,t){const n=r.exec(e);if(null!==n){const e="-"===n[1],s=_(n[1],n[2],1),a=_(n[3],n[4],0),r=Math.abs(s);let o=a-1,i=t||0===r?" = ":e?" <= ":" >= ",c="none";return t&&(e?null==n[2]||r>=a?i=" <= ":(0!==r||a<2)&&(i=" < ",o++):0!==r&&(i=" >= ")),0===s?c="cnt":(e||1!==a)&&a>0?c=r>1?"both":"cnt":r>1&&(c="mod"),{valueA:r,valueB:a,count:o,comparison:i,type:c}}le(0,"parseFnNotation",r,e)}(t,a);if(e.valueA){const t=function(e){const t=1-e;return 0===t?"":(t<0?" - ":" + ")+Math.abs(t)}(e.valueB);"mod"===e.type?o=q(n,s,t,e.valueA,0):"cnt"===e.type?o=U(n,s,e):"both"===e.type&&(o=U(n,s,e)+q(n,s,t,e.valueA,0),o=o.replace("]["," and "))}else o=U(n,s,e)}return o}function q(e,t,n,s,a){return`[(count(${e}${t})${n}) mod ${s} = ${a}]`}function U(e,t,n){return 0===n.count&&/^<?=$/.test(n.comparison.trim())?W(e,t):`[count(${e}${t})${n.comparison}${n.count}]`}function W(e,t){return`[not(${e}${t||"*"})]`}function _(e,t,n){return null!=t?+((e&&"-"===e?"-":"")+t):n}function B(e){return M(e=e?D(e):"normalize-space()")}function M(e){return"translate("+e+", 'ABCDEFGHJIKLMNOPQRSTUVWXYZ"+m+"', 'abcdefghjiklmnopqrstuvwxyz"+w+"')"}function F(e,t){return e||ie(d+t+"' has missing argument."),"normalize-space("+(e=D(e,t))+")"}function D(e,t){if((e=e.replace(/\\(?=.)/g,"")).includes("'")){if(!e.includes('"'))return'"'+e+'"';ie((t?d+t+"' string argument":"string")+" contains both '\"' and ''' quotes")}return"'"+e+"'"}function G(e,t){const n=parseInt(e);if(Number.isInteger(n))return n;ie(d+t+(e?"' argument '"+e+"' is not an integer":"' has missing argument"))}function H(e,t){n.lastIndex=e;const s=n.exec(x);if(null!==s){const n=s[0].replace("|",":").toLowerCase();return"*:"===t.owner?t.owner+=n:t.owner=n,e+s[0].length-1}le(e,"getTagName",n)}function J(e){s.lastIndex=e;const t=s.exec(x);if(null!==t)return[e+t[0].length-1,t[0].replace(/^\\00003(?=\d+)/,"")];le(e,"getClassValue",s)}function K(e){a.lastIndex=e;const t=a.exec(x);if(null!==t){const n=t[1];if(null!=t[2]){const s=function(e,t,n,s){let a=!0,r=e,o=0;for(;e<t.length;e++){const i=t[e];if(a)i===n&&(o++,r=e+1),a=!1;else if('"'===i||"'"===i){for(;++e<t.length&&t[e]!==i;);e>=t.length&&ce(e,i,"function getArgument()",t)}else if(i===n)o++;else if(i===s&&0==--o)return{index:e,content:te(t.substring(r,e))}}return null}(e+t[0].length-1,x,"(",")");if(s)return[s.index,n,s.content]}return[e+t[0].length-1,n,""]}le(e,"getPseudoClass",a)}function Q(e,t){const n="node()"!==e.owner?e.owner:e.parentNode.parentNode.owner;return t&&"*"==n&&oe(d+t+"' is required an element name; '*' is not implemented."),n}function Y(e){i.lastIndex=e;const t=i.exec(x);if(null!==t){const n=t[0].toLowerCase();return[e+t[0].length-1,n]}le(e,"getAttributeName",i)}function ee(e){c.lastIndex=e;const t=c.exec(x);if(null!==t){let n,s;return n=null!=t[1]?t[1]:null!=t[2]?t[2]:t[3],null!=t[4]&&(s=t[4].toLowerCase()),[e+t[0].length-1,n,s]}le(e,"getAttributeValue",c)}function te(e){let t=e.length;if(t>1){const n=e[0],s=e[t-1];("'"===n&&"'"===s||'"'===n&&'"'===s)&&t>2&&(e=e.substr(1,t-2))}return e}function ne(e,t){return e+1<y&&x[e+1]===t}function se(e){return null==e||!e.trim()}function ae(e){p.consoleUse||b.includes(e)||(b+=e)}function re(e){"function"==typeof p.printError&&p.printError(e)}function oe(e){throw re(e),new t(x,N+1,e)}function ie(e){throw re(e),new t(x,"?",e)}function ce(e,n,s,a){throw re(s+". Unexpected character '<b>"+n+"</b>'\nposition <b>"+(e+1)+"</b>\nstring - '<b>"+a+"</b>'"),new t(a,e+1,s=s+". Unexpected character '"+n+"'")}function le(e,n,s,a){const r=a||x.substring(e);re("function - <b>"+n+"()</b>\nError - RegExp failed to match the string:\nstring - '<b>"+r+"</b>'\nRegExp - '<b>"+s+"</b>'");throw new t(x,e+1,"function "+n+"() - RegExp '"+s+"' failed to match the string '"+r+"'")}export{A as default};
