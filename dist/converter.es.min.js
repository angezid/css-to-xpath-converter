/*!*******************************************
* css-to-xpath-converter 1.0.0
* https://github.com/angezid/css-to-xpath-converter
* MIT licensed
* Copyright (c) 2024â€“2025, angezid
*********************************************/
function e(t){this.axis="",this.separator="",this.owner="",this.isClone=!1,this.parentNode=t,this.previousNode,this.childNodes,this.content,this.addChild=function(e){this.childNodes||(this.childNodes=[]),this.childNodes.push(e)},this.add=function(){let e="";for(let t=0;t<arguments.length;t++)e+=arguments[t];this.content||(this.content=[]),this.content.push(e)},this.hasAxis=function(e){if(this.axis===e)return!0;if(this.childNodes)for(let t=0;t<this.childNodes.length;t++)if(this.childNodes[t].hasAxis(e))return!0;return!1},this.hasOr=function(){if(this.content&&this.content.some((e=>" or "===e||" | "===e)))return!0;if(this.childNodes)for(let e=0;e<this.childNodes.length;e++)if(this.childNodes[e].hasOr())return!0;return!1},this.clone=function(){const t=new e;return t.owner=this.owner,t.isClone=!0,t},this.toString=function(e=""){return this.isClone||(e=this.separator+this.axis+this.owner,this.content&&(e+=this.content.join(""))),this.childNodes&&this.childNodes.forEach((t=>{e+=t.toString(e)})),e}}function t(e,n,s,a,r){const o=new Error(s,a,r);return o.parser=!0,o.column=n,o.code=e,Object.setPrototypeOf(o,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(o,t),o}t.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,Error):t.__proto__=Error;const n=/(?:[a-zA-Z]+\|)?(?:[a-zA-Z][^ -,.\/:-@[-^`{-~]*)|(?:[a-zA-Z]+\|*)/y,s=/(?:^\\00003\d+)?(?:\\[^ ]|[^\t-,.\/:-@[-^`{-~])+/y,a=/((?:[a-z]+-)*[a-z]+)(?:([(])|(?=[ ,:+>~!^]|$))/y,r=/^([+-])?([0-9]+)?n(?:([+-])([0-9]+))?$/,o=/(?:(?:\*|[a-zA-Z]+)\|)?(?:\*|[^ -,.\/:-@[-^`{-~]+)/y,i=/(?:[a-zA-Z]+\|)?[^ -,.\/:-@[-^`{-~]+(?=(?:[~^|$!*]?=)|\])/y,c=/(?:"([^"]*)"|'([^']*)'|((?:\\[^ ]|[^ "'\]])+))(?: +([siSI]))?(?=\])/y,l=Object.freeze({Text:0,PseudoClass:1,AttributeName:2,AttributeValue:3}),d="Pseudo-class ':",u="preceding-sibling::",h="following-sibling::",f="\nSystem.Xml.XPath.XPathNavigator doesn't support '*' as a namespace.";let p,g,b,m,w,k,x,N,y;function A(t,n){p=Object.assign({},{axis:".//",consoleUse:!1,standard:!1,removeXPathSpaces:!1,uppercaseLetters:"",lowercaseLetters:"",postprocess:!0,debug:!1},n),g="",b="",k=[];const s=new e;let a,r;try{ne(t)&&oe("selector is null or white space"),m=p.uppercaseLetters?p.uppercaseLetters.trim():"",w=p.lowercaseLetters?p.lowercaseLetters.trim():"",m.length!==w.length&&oe("Custom upper and lower case letters have different length"),r=function(e){const t=",>+=~^!:([",n=",>+=~^!$]()";x=e,y=x.length;let s=!1,a=!1,r="\0";const o=[];for(let e=0;e<y;e++){const c=x[e];if(" "===c||/\s/.test(c)){if(a)continue;s&&(t.includes(r)?(s=!1,a=!1):a=!0)}else if("\\"===c)(e+1>=y||/\s/.test(x[e+1]))&&ie(e,c,"Non-escape character",x),o.push(c),o.push(x[++e]);else if("/"===c&&te(e,"*")){e+=2;const t=i(e,c,!0);-1===t?o.push("/*"):e=t}else if('"'===c||"'"===c){const t=i(e,c,!1);-1!==t?(o.push(x.substring(e,t+1)),e=t):ie(e,c,"function normalizeWhiteSpaces()",x),s=!0,r=c}else!a||n.includes(c)||"*"===c&&te(e,"=")||o.push(" "),o.push(c),s=!0,a=!1,r=c}function i(e,t,n){for(;++e<y;)if(x[e]===t){if(n&&"*"!==x[e-1])continue;return e}return-1}return o.join("")}(t),a=v(s,r,p.axis,null),a=function(e){p.postprocess&&(p.removeXPathSpaces&&(e=e.replace(/("[^"]+"|'[^']+')|([,<=>|+-]) +| +(?=[<=>|+-])/g,((e,t,n)=>t||n||""))),e=(e=(e=(e=e.replace(/([([]| or )self::node\(\)\[((?:[^'"[\]]|"[^"]*"|'[^']*')+)\](?!\[| *\|)/g,"$1$2")).replace(/((?:[^'"[\]]|"[^"]*"|'[^']*')+)|\]\[(?![[(])/g,((e,t)=>t||" and "))).replace(/\[\(((?:[^'"()]|"[^"]*"|'[^']*')+)\)]/g,((e,t)=>"["+t+"]"))).replace(/\/child::/g,"/"));return e=e.replace(/((?:[^'"{}]|"[^"]*"|'[^']*')+)|[{}]/g,((e,t)=>t||"")),e}(a)}catch(e){return e.parser?p.debug&&console.log(e.message,e.code,e.column):console.error(e),{xpath:a,css:r,warning:g,error:e.message}}return{xpath:a,css:r,warning:g,error:b}}function $(e,t,n,s,a){t||oe("The pseudo-selector ':"+a.name+"()' have missing argument."),k.push(x);const r=v(e,t,n,s,a);return x=k.pop(),y=x.length,r}function v(e,t,n,a,r){t||oe("selector is empty or white space");let o=S(e,null),i=S(o,null);const c=r?r.name:"",d=r&&r.predicate,p="not"===c;let g,b,m=null,w=null,k=null,A=null,$=l.Text,v=!1,V=!0,X=-1;for(x=t,y=x.length,/^[,(]/.test(x)&&ie(0,x[0],"State.Text",x);++X<y;)if(N=X,b=x[X],$===l.Text){switch((v&&!/[>+~^!.#*:|[@a-zA-Z]/.test(b)||!v&&!/[ >+~^!,.#*:|[@a-zA-Z]/.test(b))&&ie(X,b,z($)+", check="+v,x),r&&/!?[+~]/.test(b)&&c.endsWith("-sibling")&&oe("'"+c+"()' with these arguments has no implementation"),(/[.#:[]/.test(b)||"has"!==c&&i.previousNode&&/[>+~^!]/.test(b))&&(O(n,i,r),P(a,i)),b){case".":let t="[";do{if([X,g]=H(X+1),t+=L("@class",F(" "+g+" ")),s.lastIndex=X+2,!te(X,".")||!s.test(x))break;t+=" and "}while(++X<y);i.add(t+"]"),v=!1;break;case"#":[X,g]=H(X+1),i.add("[@id=",F(g),"]"),v=!1;break;case">":i=p?E(o,i,"parent::"):S(o,i,"child::","/"),v=!0;break;case"+":i=C(o,i,p?u:h,"*","{[1]}"),v=!0;break;case"~":i=p?E(o,i,u):S(o,i,h,"/"),v=!0;break;case"^":i=p?E(o,i,"parent::","[not(preceding-sibling::*)]"):C(o,i,"child::","*","[1]"),v=!0;break;case"!":te(X,"^")?(i=p?E(o,i,"parent::","[not(following-sibling::*)]"):C(o,i,"child::","*","[last()]"),X++):te(X,"+")?(i=p?C(o,i,h,"*","{[1]}"):C(o,i,u,"*","[1]"),X++):te(X,">")?(i=p?E(o,i,"child::"):S(o,i,"parent::","/"),X++):te(X,"~")?(i=p?E(o,i,h):S(o,i,u,"/"),X++):i=p?E(o,i,"descendant-or-self::"):S(o,i,"ancestor-or-self::","/"),v=!0;break;case"[":m="",w=null,k=null,A=null,$=l.AttributeName;break;case":":te(X,":")&&X++,$=l.PseudoClass;break;case",":X+1>=y&&ie(X,b,z($),x),o=S(e,o),o.add(d?" or ":" | "),o=S(e,o),i=S(o,null,r?"":n),v=!0;break;case"@":[X,i]=I(X,n,r,o,i),v=!1;break;case"*":O(n,i,r),i.owner="*",v=!1;break;case" ":r?"has-ancestor"===c?i=S(o,i,"ancestor::"," and "):["has-parent","before","after"].includes(c)||c.endsWith("-sibling")?(i.previousNode||(i.axis="ancestor::",i.separator=""),i=S(o,i,"ancestor::"," and ")):"not"===c&&"self::"===i.axis?(i.previousNode&&"ancestor::"===i.previousNode.axis&&(i.separator=" and "),"node()"===i.owner&&(i.owner="*"),i=E(o,i,"ancestor::")):i=S(o,i,null,"//"):i=S(o,i,null,"//"),v=!0;break;case"|":te(X,"|")?ie(X+1,b,z($),x):[X,i]=T(X,n,V,o,i),v=!1;break;case"\\":X++;break;default:/[a-zA-Z]/.test(b)?(i.owner&&ie(X,b,z($),x),O(n,i,r),X=G(X,i)):ie(X,b,z($),x),v=!1}V=!1}else if($===l.AttributeName)switch(b){case"=":A="=",w=null,$=l.AttributeValue;break;case"!":case"~":case"^":case"$":case"*":case"|":te(X,"=")?(A=b+"=",X++,w=null,$=l.AttributeValue):"*"===b&&te(X,"|")?(m="*:",X++,se(f)):ie(X,b,z($),x);break;case"]":m||re("attrName is null or empty.'"),i.add("[@"+m+"]"),$=l.Text,v=!1;break;case" ":break;default:[X,g]=Q(X),m+=g}else if($===l.AttributeValue)switch(b){case"]":null===w&&re("attrValue is null."),j(m,w,A,k,i),$=l.Text,v=!1;break;case"=":ie(X,b,z($),x);break;case" ":break;default:w&&re("attrValue '"+w+"' is already parse: "+x.substring(X)),[X,w,k]=Y(X)}else if($===l.PseudoClass){let e="",t="";[X,e,t]=J(X),"root"===e?(i.owner=i.separator="",i.axis="//",i=S(o,i,"ancestor-or-self::"),i.owner="*",i.add("[last()]")):(P(a,i),e.startsWith("nth-")?R(e,t,r,o,i):Z(e,t,i)),$=l.Text,v=!1}let q=e.toString();return v&&/(?:\/|::)$/.test(q)?q+"*":((v||$!==l.Text)&&re("Something is wrong: '"+z($)+"' xpath='"+q+"' in: "+x),q)}function z(e){return"State."+Object.keys(l)[e]}function S(t,n,s,a){const r=new e(t);return t.addChild(r),r.previousNode=n,r.axis=s||"",a&&n.owner&&(r.separator=a),r}function E(e,t,n,s){t.axis=n;var a=S(e,t,"self::","/");return s&&a.add(s),a}function C(e,t,n,s,a){const r=S(e,t,n,"/");return r.owner=s,r.add(a),S(e,r,"self::","/")}function O(e,t,n){if(!e||t.axis||"self::"===e&&!n)return;const s=t.parentNode.toString().trim(),a=s.length;if(0==a||/ (?:or|\|)$/.test(s))t.axis=e;else{const n=s[a-1];":"!=n&&"|"!=n||(t.axis=e)}}function P(e,t){if(t.owner)return;let n="";if(t.previousNode){const s=t.parentNode.toString().trim();if(s.length)if(/(?: or|\|)$/.test(s))n=e||"*";else{const t=s[s.length-1];e?":"===t?n="*":"/"===t&&(n=e):":"!==t&&"/"!==t||(n="*")}}else n=e||"*";t.owner=n}function T(e,t,n,s,a){if("*"==a.owner)te(e,"*")?(a.owner="*:*",e++):a.owner="*:",se(f);else if(n&&O(t,a),te(e,"*"))a.owner?a.owner+=":*":(a.owner="*",a.add("[not(contains(name(), ':'))]")),e++;else{if(e+1<y&&/[a-zA-Z]/.test(x[e+1])){let t=S(s,a,"self::","/");return t.owner="*",[e,t]}a.owner="*:",se(f)}return[e,a]}function I(e,t,n,s,a){const r=a.parentNode.toString().trim();if(0===r.length)n&&(t="");else if(/ (?:or|\|)$/.test(r))t="";else{const e=r[r.length-1];t=":"!==e&&"/"!==e?"/":""}o.lastIndex=e+1;const i=o.exec(x);if(null!==i){const n=S(s,a,t);return n.add("@",i[0].replace("|",":").toLowerCase()),[e+i[0].length,n]}ce(e,"parseAttribute",o)}function j(e,t,n,s,a){if(!t.trim())return void("="===n?a.add("[@",e," = '']"):"!="===n?a.add("{[not(@",e,") or @",e," != '']}"):"|="===n?a.add("{[@",e," = '' or starts-with(@",e,", '-')]}"):a.add("[false()]"));const r="i"===s||"lang"===e||"type"===e&&"input"==K(a);if(!p.standard&&"class"===e)return void function(e,t,n,s){const a=n?_("@class"):"@class";let r=e.trim();switch(t){case"=":case"~=":case"!=":r=" "+r+" ";break;case"^=":r=" "+r;break;case"$=":r+=" "}r=n?B(r):F(r);if("!="===t)s.add("{[not(",a,") or not(",L(a,r),")]}");else if("*="===t)s.add("[contains(",a,", ",r,")]");else if("|="===t){const t=n?B(" "+e+" "):F(" "+e+" "),r=n?B(" "+e+"-"):F(" "+e+"-");s.add("{[",L(a,t)," or ",L(a,r),"]}")}else s.add("[",L(a,r),"]")}(t,n,r,a);const o=r?_("@"+e):null,i=F(t);switch(n){case"=":r?a.add("[",o," = ",B(t),"]"):a.add("[@",e,"=",i,"]");break;case"!=":r?a.add("{[not(@",e,") or ",o,"!=",B(t),"]}"):a.add("{[not(@",e,") or @",e,"!=",i,"]}");break;case"~=":r?a.add("[contains(concat(' ', normalize-space(",o,"), ' '), concat(' ', normalize-space(",B(t),"), ' '))]"):a.add("[contains(concat(' ', normalize-space(@",e,"), ' '), concat(' ', normalize-space(",i,"), ' '))]");break;case"|=":r?a.add("{[",o," = ",B(t)," or starts-with(",o,", concat(",B(t),", '-'))]}"):a.add("{[@",e," = ",i," or starts-with(@",e,", ",F(t+"-"),")]}");break;case"^=":r?a.add("[starts-with(",o,", ",B(t),")]"):a.add("[starts-with(@",e,", ",i,")]");break;case"$=":r?a.add("[substring(",o,", string-length(@",e,") - (string-length(",i,") - 1)) = ",B(t),"]"):a.add("[substring(@",e,", string-length(@",e,") - (string-length(",i,") - 1)) = ",i,"]");break;case"*=":r?a.add("[contains(",o,", ",B(t),")]"):a.add("[contains(@",e,", ",i,")]")}}function L(e,t){return`contains(concat(' ', normalize-space(${e}), ' '), ${t})`}function Z(e,t,n){let s,a,r,o,i="",c="local-name()";switch(e){case"any-link":n.add("[(",c," = 'a' or ",c," = 'area') and @href]");break;case"external":n.add("{[(",c," = 'a' or ",c," = 'area') and (starts-with(@href, 'https://') or starts-with(@href, 'http://'))]}");break;case"contains":n.add("[contains(normalize-space(), ",M(t,e),")]");break;case"icontains":n.add("[contains(",B(),", ",_(M(t,e)),")]");break;case"empty":i="[not(*) and not(text())]";break;case"first-child":n.add("[not(",u,"*)]");break;case"first":i=t?"[position() <= "+D(t,e)+"]":"[1]";break;case"first-of-type":r=K(n,e),n.add("[not(",u,r,")]");break;case"gt":case"skip":n.add("[position() > ",D(t,e),"]");break;case"lt":n.add("[position() < ",D(t,e),"]");break;case"eq":case"nth":n.add("[",D(t,e),"]");break;case"last-child":n.add("[not(",h,"*)]");break;case"only-child":n.add("[not(",u,"*) and not(",h,"*)]");break;case"only-of-type":r=K(n,e),n.add("[not(",u,r,") and not(",h,r,")]");break;case"text":i="[@type='text']";break;case"starts-with":n.add("[starts-with(normalize-space(), ",M(t,e),")]");break;case"istarts-with":n.add("[starts-with(",B(),", ",_(M(t,e)),")]");break;case"ends-with":o=M(t,e),n.add("[substring(normalize-space(), string-length(normalize-space()) - string-length(",o,") + 1) = ",o,"]");break;case"iends-with":o=M(t,e),n.add("[substring(",B(),", string-length(normalize-space()) - string-length(",o,") + 1) = ",_(o),"]");break;case"is":case"matches":s=n.clone(),a=$(s,t,"self::","node()",{predicate:!0,name:e}),f(s,"["+a+"]");break;case"not":s=n.clone(),a=$(s,t,"self::","node()",{name:e}),"self::node()"!==a&&(a=function(e){let t="";return e.childNodes.forEach((e=>{if(e.childNodes){let n="",s="",a=!1;for(let t=e.childNodes.length-1;t>=0;t--){const r=e.childNodes[t];a?(r.separator||(a=!1),r.separator="",n+="["+r.toString(),s+="]"):(r.separator&&(a=!0,r.separator=""),n+=r.toString())}t+=n+s}else t+=e.toString()})),t}(s),f(s,"[not("+a+")]"));break;case"has":s=n.clone(),a=$(s,t,".//",null,{name:e}),f(s,"["+a+"]");break;case"has-sibling":s=n.clone();let p=$(s,t,u,null,{name:e});s.hasAxis("ancestor::")&&(p=V(s,u)),s=n.clone();let g=$(s,t,h,null,{name:e});s.hasAxis("ancestor::")&&(g=V(s,h)),n.add("{[(",p,") or (",g,")]}");break;case"has-parent":l("parent::");break;case"has-ancestor":s=n.clone(),a=$(s,t,"ancestor::",null,{name:e}),f(s,"["+a+"]");break;case"after":l("preceding::");break;case"after-sibling":l(u);break;case"before":l("following::");break;case"before-sibling":l(h);break;case"last":i=t?"[position() > last() - "+D(t,e)+"]":"[last()]";break;case"last-of-type":r=K(n,e),n.add("[not(",h,r,")]");break;case"skip-first":n.add("[position() > ",t?D(t,e):"1","]");break;case"skip-last":n.add("[position() < last()",t?" - ("+D(t,e)+" - 1)":"","]");break;case"limit":n.add("[position() <= ",D(t,e),"]");break;case"range":const b=t.split(",");2!==b.length&&oe(d+e+"(,)' is required two numbers");const m=D(b[0],e),w=D(b[1],e);m>=w&&oe(d+e+"("+m+", "+w+")' have wrong arguments"),n.add("[position() >= ",m," and position() <= ",w,"]");break;case"target":i="[starts-with(@href, '#')]";break;case"disabled":i="[@disabled]";break;case"enabled":i="[not(@disabled)]";break;case"selected":n.add("[",c," = 'option' and @selected]");break;case"checked":n.add("[(",c," = 'input' and (@type='checkbox' or @type='radio') or ",c," = 'option') and @checked]");break;case"read-only":case"read-write":n.add("[@",e.replace("-",""),"]");break;default:re(d+e+"' is not implemented")}function l(s){const a=n.clone();let r=$(a,t,s,null,{name:e});a.hasAxis("ancestor::")&&(r=V(a,s)),f(a,"["+r+"]")}function f(e,t){n.add(e.hasOr()?"{"+t+"}":t)}i&&n.add(i)}function V(e,t){let n="";return e.childNodes.forEach((e=>{if(e.hasAxis("ancestor::")){let s="";const a=e.childNodes.length-1;e.childNodes.forEach(((e,n)=>{n<a?s+=e.toString():(t&&(e.axis=t),e.separator="",s=e.toString()+"["+s+"]")})),n+=s}else n+=e.toString()})),n}function R(e,t,n,s,a){ne(t)&&oe("argument is null or white space");let r,o="*";if("nth-child"===e||"nth-last-child"===e){const n=function(e,t,n){let s,a="*";const r=/ +of +(.+)$/,o=r.exec(t);if(null!==o){const i=n.clone();if(s=$(i,o[1],null,"self::node()",{predicate:!0,name:e}),1===i.childNodes.length){const e=i.childNodes[0],t=e.childNodes[0],n="self::node()"===t.owner;t.owner="";const r="{"+e.toString()+"}";n?(a+=r,s=r):(a="{"+s+"}",s=r)}else s="{["+s+"]}",a+=s;return{arg:t.replace(r,""),owner:a,ofResult:s}}return null}(e,t,a);n&&(t=n.arg,o=n.owner,r=n.ofResult)}if(!function(e,t,n){const s=t&&"not"===t.name;if(/^(?:-?0n?|-n(?:[+-]0|-\d+)?|(?:0|-\d+)n(?:-\d+)?|(?:0|-\d+)n\+0)$/.test(e)){if(s)return!1;oe(d+n+"' with these arguments yield no matches")}s&&/^1?n(?:\+[01]|-\d+)?$/.test(e)&&oe(d+n+"' with these arguments in ':not()' yield no matches");return!0}(t=t.replace(/\s+/g,""),n,e))return;let i="";switch(e){case"nth-child":i=X(e,t,"preceding",o,!1);break;case"nth-last-child":i=X(e,t,"following",o,!0);break;case"nth-of-type":o=K(a,e),i=X(e,t,"preceding",o,!1);break;case"nth-last-of-type":o=K(a,e),i=X(e,t,"following",o,!0);break;default:re(d+e+"' is not implemented")}r&&a.add(r),a.add(i)}function X(e,t,n,s,a){let o="";if(/^\d+$/.test(t)){const e=parseInt(t);o=U(n,s,{valueB:e,count:e-1,comparison:" = "})}else if("odd"===t)o=q(n,s," + 1",2,1);else if("even"===t)o=q(n,s," + 1",2,0);else{const e=function(e,t){const n=r.exec(e);if(null!==n){const e="-"===n[1],s=W(n[1],n[2],1),a=W(n[3],n[4],0),r=Math.abs(s);let o=a-1,i=t||0===r?" = ":e?" <= ":" >= ",c="none";return t&&(e?null==n[2]||r>=a?i=" <= ":(0!==r||a<2)&&(i=" < ",o++):0!==r&&(i=" >= ")),0===s?c="cnt":(e||1!==a)&&a>0?c=r>1?"both":"cnt":r>1&&(c="mod"),{valueA:r,valueB:a,count:o,comparison:i,type:c}}ce(0,"parseFnNotation",r,e)}(t,a);if(e.valueA){const t=function(e){const t=1-e;return 0===t?"":(t<0?" - ":" + ")+Math.abs(t)}(e.valueB);"mod"===e.type?o=q(n,s,t,e.valueA,0):"cnt"===e.type?o=U(n,s,e):"both"===e.type&&(o=U(n,s,e)+q(n,s,t,e.valueA,0),o=o.replace("]["," and "))}else o=U(n,s,e)}return o}function q(e,t,n,s,a){return`[(count(${e}-sibling::${t})${n}) mod ${s} = ${a}]`}function U(e,t,n){return 0===n.count&&/^<?=$/.test(n.comparison.trim())?`[not(${e}-sibling::${t})]`:`[count(${e}-sibling::${t})${n.comparison}${n.count}]`}function W(e,t,n){return null!=t?+((e&&"-"===e?"-":"")+t):n}function B(e){return _(e=e?F(e):"normalize-space()")}function _(e){return"translate("+e+", 'ABCDEFGHJIKLMNOPQRSTUVWXYZ"+m+"', 'abcdefghjiklmnopqrstuvwxyz"+w+"')"}function M(e,t){return e||oe(d+t+"' has missing argument."),"normalize-space("+(e=F(e,t))+")"}function F(e,t){if((e=e.replace(/\\(?=.)/g,"")).includes("'")){if(!e.includes('"'))return'"'+e+'"';oe((t?d+t+"' string argument":"string")+" contains both '\"' and ''' quotes")}return"'"+e+"'"}function D(e,t){const n=parseInt(e);if(Number.isInteger(n))return n;oe(d+t+(e?"' argument '"+e+"' is not an integer":"' has missing argument"))}function G(e,t){n.lastIndex=e;const s=n.exec(x);if(null!==s){const n=s[0].replace("|",":").toLowerCase();return"*:"===t.owner?t.owner+=n:t.owner=n,e+s[0].length-1}ce(e,"getTagName",n)}function H(e){s.lastIndex=e;const t=s.exec(x);if(null!==t)return[e+t[0].length-1,t[0].replace(/^\\00003(?=\d+)/,"")];ce(e,"getClassValue",s)}function J(e){a.lastIndex=e;const t=a.exec(x);if(null!==t){const n=t[1];if(null!=t[2]){const s=function(e,t,n,s){let a=!0,r=e,o=0;for(;e<t.length;e++){const i=t[e];if(a)i===n&&(o++,r=e+1),a=!1;else if('"'===i||"'"===i){for(;++e<t.length&&t[e]!==i;);e>=t.length&&ie(e,i,"function getArgument()",t)}else if(i===n)o++;else if(i===s&&0==--o)return{index:e,content:ee(t.substring(r,e))}}return null}(e+t[0].length-1,x,"(",")");if(s)return[s.index,n,s.content]}return[e+t[0].length-1,n,""]}ce(e,"getPseudoClass",a)}function K(e,t){const n="node()"!==e.owner?e.owner:e.parentNode.parentNode.owner;return t&&"*"==n&&re(d+t+"' is required an element name; '*' is not implemented."),n}function Q(e){i.lastIndex=e;const t=i.exec(x);if(null!==t){const n=t[0].toLowerCase();return[e+t[0].length-1,n]}ce(e,"getAttributeName",i)}function Y(e){c.lastIndex=e;const t=c.exec(x);if(null!==t){let n,s;return n=null!=t[1]?t[1]:null!=t[2]?t[2]:t[3],null!=t[4]&&(s=t[4].toLowerCase()),[e+t[0].length-1,n,s]}ce(e,"getAttributeValue",c)}function ee(e){let t=e.length;if(t>1){const n=e[0],s=e[t-1];("'"===n&&"'"===s||'"'===n&&'"'===s)&&t>2&&(e=e.substr(1,t-2))}return e}function te(e,t){return e+1<y&&x[e+1]===t}function ne(e){return null==e||!e.trim()}function se(e){p.consoleUse||g.includes(e)||(g+=e)}function ae(e){"function"==typeof p.printError&&p.printError(e)}function re(e){throw ae(e),new t(x,N+1,e)}function oe(e){throw ae(e),new t(x,"?",e)}function ie(e,n,s,a){throw ae(s+". Unexpected character '<b>"+n+"</b>'\nposition <b>"+(e+1)+"</b>\nstring - '<b>"+a+"</b>'"),new t(a,e+1,s=s+". Unexpected character '"+n+"'")}function ce(e,n,s,a){const r=a||x.substring(e);ae("function - <b>"+n+"()</b>\nError - RegExp failed to match the string:\nstring - '<b>"+r+"</b>'\nRegExp - '<b>"+s+"</b>'");throw new t(x,e+1,"function "+n+"() - RegExp '"+s+"' failed to match the string '"+r+"'")}export{A as default};
